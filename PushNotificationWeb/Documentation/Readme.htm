<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER WINDOW AND SELECT "VIEW IN BROWSER"-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <link rel="Stylesheet" type="text/css" media="all" href="styles/master.css" />
	<link rel="Stylesheet" type="text/css" media="all" href="styles/docstyle.css" />
    <title>Windows 8 Cloud Application Project Template</title>
</head>
<body>
    <div id="outerWrapper">
        <div id="wrapper" class="landingPage">
            <div class="header">
				<img alt="Windows Azure" src="images/azure-logo.png" />
				<span class="mainHomepageSubTitle">
					Windows Azure Toolkit for Windows 8
				</span>
            </div>
            <div class="contentWrapper">
                <div class="genericInnerWrapper">
                    <h1>Windows 8 Cloud Application Project Template</h1>
                    <div class="docContent">
                        <div class="mainSection">
                            <div class="mainBody">
                                <h3 class="subheading">Introduction</h3>
                                <p>
                                    The Windows 8 Cloud Application project template for Visual Studio makes it easier
                                    for developers to create a Windows Metro Style application that utilizes services
                                    in Windows Azure. This template generates a Windows Azure project and an ASP.NET
                                    MVC 3 project. the Windows Azure project demonstrates how to use the Windows Push
                                    Notifications Recipe and how to leverage Windows Azure Blob and Table storage.<br />
                                </p>
                                <br />
                                <h3 class="subheading">The Windows 8 Cloud Application</h3>
                                <p>
                                    Follow these steps to use the generated application:
                                </p>
                                <br />
                                <p>
                                    <b>Starting Windows Azure Services</b>
                                </p>
                                <ol>
                                    <li>Make sure that you do not have any Web site running in ports <b>443</b> or <b>10080
                                    </b>in your local IIS.<div class="alert">
                                        <table width="100%" cellspacing="0" cellpadding="0">
                                            <tr>
                                                <th align="left">
                                                    <img class="note" src="Images\note.gif" /><span class="NoteHeader">Note:</span>
                                                </th>
                                            </tr>
                                            <tr>
                                                <td>By default, the ASP.NET MVC 3 Web Role that is generated by the project template
                                                    is configured to run over two different endpoints: one HTTPS in port 443 and another
                                                    HTTP in port 10080. </td>
                                            </tr>
                                        </table>
                                    </div>
                                        <br />
                                    </li>
                                    <li>In <b>Solution Explorer</b>, right-click the Windows Azure project, point to <b>
                                        Debug</b> and click <b>Start new instance</b>.</li>
                                    <li>Wait for the Web role to start to browse the site.<p>
                                        <img src="Images\Image1.png" height="340" width="800"/>
                                    </p>
                                        <br />
                                    </li>
                                </ol>
                                <p>
                                    <b>Creating a Windows Metro Style App (client)</b>
                                </p>
                                <ol>
                                    <li>Now, open Visual Studio 2011 and create a new JavaScript "Notifications + Access
                                        Control ApplicationÅE<p>
                                            <img src="Images\Image2.png" height="490" width="800"/>
                                        </p>
                                        <br />
                                        <div class="alert">
                                            <table width="100%" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <th align="left">
                                                        <img class="note" src="Images\note.gif" /><span class="NoteHeader">Note:</span>
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <td><b>Note</b>: You can use either<b> Microsoft Visual Studio 11 Beta</b>or <b>Visual
                                                        Studio 11 Express Beta for Windows 8</b>. In this step, you can create a C# ìNotifications
                                                        + Access Control ApplicationÅEinstead. </td>
                                                </tr>
                                            </table>
                                            <p />
                                        </div>
                                        <br />
                                    </li>
                                    <li>Enter the <b>Package Name</b> obtained when you registered the application in the
                                        Windows Live Application Management site for Metro style apps into the corresponding
                                        fields of the wizard. </li>
                                    <p>
                                        <img src="Images\Image20.png" />
                                    </p>
                                    </li>
                                    <li>Enter the <b>Registration endpoint </b>URL and then click <b>Next</b>.<p>
                                        <img src="Images\Image22.png" />
                                    </p>
                                    </li>
                                    <li>Leave the <b>Use ACS Authentication</b> option cleared and then click <b>OK</b>.<p>
                                        <img src="Images\Image21.png" />
                                    </p>
                                    </li>
                                    <li>Once the solution opens, press <b>F5</b>.</li>
                                    <li>In the client application, press <b>Register</b>. This will request a channel from
                                        WNS and submit it to your Windows Azure service running in your local Windows Azure
                                        compute emulator. In the Output section of the application, you will see that the
                                        Channel URI was sent successfully to your service.<p>
                                            <img src="Images\Image23.png" />
                                        </p>
                                        <br />
                                    </li>
                                </ol>
                                <p>
                                    <b>Sending Push Notifications using the ASP .NET MVC 3 Portal</b>
                                </p>
                                <p>
                                    The following steps describe how to use the application to send notifications to
                                    registered clients.
                                </p>
                                <div class="alert">
                                    <table width="100%" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <th align="left">
                                                <img class="note" src="Images\note.gif" /><span class="NoteHeader">Note:</span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <td>The current version of the Metro Style Application templates does not provide support
                                                for Raw Notifications. In order to test Raw Notifications, you have to implement
                                                a background task in the client to handle this type of notifications. You can check
                                                the Raw Notifications sample to see how to do this. </td>
                                        </tr>
                                    </table>
                                </div>
                                <ol>
                                    <li>Press <b>F5</b> to launch the application in the compute emulator and open a browser
                                        window that shows its start page.
                                        <p>
                                            <img src="Images\Image4.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>Click <b>Log On</b> and sign in to the application using the following credentials:<table
                                        style="">
                                        <tr valign="top">
                                            <td>
                                                <p>User name</p>
                                            </td>
                                            <td>
                                                <p>admin</p>
                                            </td>
                                        </tr>
                                        <tr valign="top">
                                            <td>
                                                <p>Password *</p>
                                            </td>
                                            <td>
                                                <p>Passw0rd!</p>
                                            </td>
                                        </tr>
                                    </table>
                                        <p>
                                            * Note that the password uses the zero character and that the user name is case-sensitive.<br />
                                            <p>
                                                <img src="Images\Image5.png" />
                                            </p>
                                        <br />
                                    </li>
                                    <li>In the applicationís home page, click <b>Push Notifications</b>.<p>
                                        <img src="Images\Image6.png" />
                                    </p>
                                        <br />
                                    </li>
                                    <li>Unless you have executed the application previously, the Push Notifications page
                                        should currently display an empty list of clients.<p>
                                            <img src="Images\Image100.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>Switch to your Metro style client applicationand register the channel. The mechanism
                                        used for registration will vary depending on the application. For example, in the
                                        PushNotifications sample, the client application includes a <b>Register</b> button
                                        for this purpose.</li>
                                    <li>Return to the browser window and refresh the <b>Push Notifications</b> page. Notice
                                        that the page now lists the channel that you requested in the Metro app and registered
                                        with the web role. Click the <b>Send Notification</b> button located to the right
                                        of the row that shows the clientís channel. This will open a popup window with notification
                                        templates.<p>
                                            <img src="Images\Image101.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>In the <b>Push Notification</b>popup window, select the <b>Toast</b>notification
                                        type from the drop down list and then choose one of its templates from the drop
                                        down list next to it, for example, <b>ToastImageAndText01</b>. Fill out the information
                                        required by the template, which may include images as well as text.<p>
                                            <img src="Images\Image102.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>Now, press <b>Send</b> and verify that the application successfully delivers the
                                        notification request to the Windows Push Notification Services (WNS) by checking
                                        the status message shown immediately below the <b>Send Notification</b> button. Once
                                        the notification is sent, a toast should appear shortly thereafter with the information
                                        entered into the template.<p>
                                            <img src="Images\Image8.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>To test tile notifications, click <b>Send Notification</b> again and choose the <b>
                                        Tile</b>notification type from the drop down list, then choose a template from the
                                        drop down list next to it, for example, <b>TileWideImageAndText01</b>. Fill out
                                        the information required by the template, which may include images as well as text,
                                        and then press <b>Send</b>.<p>
                                            <img src="Images\Image9.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>Switch to the <b>Start</b> screen, for example by pressing the Windows key (<img
                                        src="Images\Image10.png" />), and verify that, after a brief pause, the applicationís
                                        tile updates with the information that you entered into the template.<p>
                                            <img src="Images\Image11.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>Finally, to test badge notifications, click <b>Send Notification</b> again and choose
                                        the <b>Badge</b> notification type from the drop down list, then choose one of the
                                        templates, either <b>Int</b> or <b>Glyph</b>, from the drop down list next to it.
                                        Fill out the information required by the template and then press <b>Send</b>.<p>
                                            <img src="Images\Image12.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>Switch to the <b>Start</b> screen again and observe how the applicationís tile updates
                                        to show the badge information that you entered into the template.<p>
                                            <img src="Images\Image13.png" />
                                        </p>
                                    </li>
                                </ol>
                                <br />
                                <div class="alert">
                                    <table width="100%" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <th align="left">
                                                <img class="note" src="Images\note.gif" /><span class="NoteHeader">Note:</span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <td>This concludes the overview of how to send Toast, Tile and Badge notifications using
                                                the Windows Azure Toolkit for Windows 8. As an exercise, it is recommended to spend
                                                some time exploring the rich set of templates available to each of the different
                                                notification types. </td>
                                        </tr>
                                    </table>
                                </div>
                                <br />
                                <p>
                                    <b>Uploading Tile Background Images</b>
                                </p>
                                <ol>
                                    <li>Windows Azure Blob Storage is a good option to store images that can be used as
                                        tile backgrounds for your Windows Notifications.</li>
                                    <li>To manage these images, click the <b>Blobs</b> menu option to display the list of
                                        the preloaded tile backgrounds included with the toolkit. To upload a new image,
                                        click the <b>Browse</b> button at the bottom of the page:<p>
                                            <img src="Images\Image15.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>Select an image to upload and then click the <b>Open </b>button.<p>
                                        <img src="Images\Image16.png" />
                                    </p>
                                        <br />
                                    </li>
                                    <li>Back in the <b>Blobs</b> page, click the <b>Upload</b> button. Once the upload has
                                        been processed, you will see the recently uploaded image listed in the page.<p>
                                            <img src="Images\Image17.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>To delete an image, click <b>Delete</b> in the row that contains the image that you
                                        wish to remove.<p>
                                            <img src="Images\Image18.png" />
                                        </p>
                                        <br />
                                    </li>
                                    <li>After the server processes the request, verify that the page no longer lists the
                                        image that you removed.<p>
                                            <img src="Images\Image19.png" />
                                        </p>
                                        <br />
                                    </li>
                                </ol>
                                &nbsp;<p>
                                    <a href="http://www.microsoft.com/info/cpyright.mspx">© Microsoft Corporation and/or
                                        its suppliers. All rights reserved. Terms of Use.</a>
                                    <p>
                                        <img src="Images/dpe.jpg" alt="Developer & Platform Evangelism" />
                                    </p>
                                <p>
                                    &nbsp;
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
